<div class="min-h-screen px-2 sm:px-6">
  <div class="max-w-4xl mx-auto">
    <h2 class="text-2xl font-bold text-[var(--color-secondary)] my-6">Tutores</h2>

    <div class="flex flex-col sm:flex-row sm:items-center gap-4 mb-8 mt-4 text-center sm:text-left">
      <div class="flex flex-1 justify-center sm:justify-start w-full">
        <input
          type="text"
          class="input-base flex-1 max-w-xs"
          placeholder="Buscar por nome do tutor..."
          [value]="searchName()"
          (input)="onSearchNameChange($event.target.value)"
        />
      </div>
    </div>

    @if (loading()) {
      <div class="flex justify-center items-center py-12 text-lg text-[var(--color-secondary)]">Carregando...</div>
    }

    @if (errorMessage()) {
      <div class="alert-error">{{ errorMessage() }}</div>
    }

    @if (!loading() && tutors().length === 0) {
      <div class="text-center text-[var(--color-secondary)]/80 py-12">Nenhum tutor encontrado.</div>
    }

    @if (!loading() && tutors().length > 0) {
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
        @for (tutor of tutors(); track tutor.id) {
          <div class="card-base flex flex-col sm:flex-row items-center gap-4 p-4 sm:p-6 w-full max-w-md mx-auto">
            <div class="flex-shrink-0">
              <app-avatar [src]="tutor.foto?.url ?? null" [alt]="tutor.nome || ''" size="md">Sem foto</app-avatar>
            </div>
            <div class="flex-1 min-w-0 text-left">
              <h3 class="text-xl font-bold text-[var(--color-secondary)] truncate">{{ tutor.nome }}</h3>
              <p class="text-[var(--color-secondary)]/80"><span class="font-semibold">Telefone:</span> {{ tutor.telefone }}</p>
              <p class="text-[var(--color-secondary)]/80"><span class="font-semibold">Endereço:</span> {{ tutor.endereco }}</p>
            </div>
            <div class="flex flex-col gap-2">
              <button (click)="viewDetails(tutor.id)" class="btn-primary">Ver</button>
            </div>
          </div>
        }
      </div>
      @if (totalPages() > 1) {
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-10 mb-16">
          <button 
            (click)="changePage(currentPage() - 1)" 
            [disabled]="currentPage() === 1"
            class="btn-secondary" >
            Anterior
          </button>
          <span class="text-[var(--color-secondary)] font-medium">Página {{ currentPage() }} de {{ totalPages() }}</span>
          <button 
            (click)="changePage(currentPage() + 1)" 
            [disabled]="currentPage() === totalPages()"
            class="btn-secondary" >
            Próxima
          </button>
        </div>
      }
    }
  </div>
</div>
